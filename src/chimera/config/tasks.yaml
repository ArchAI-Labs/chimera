editorial_plan:
  description: >
    Coordinate the creation of a strategic editorial plan about {topic}.  
    Based on the selected expert type ({expert_type}), delegate the research task:  

    - If **generalista** → rely on the technical expert to analyze industry trends, reports, and discussions.  
    - If **prodotto** → rely on the product expert to extract insights from the company website (https://hyperiot.cloud/).  

    The manager should then organize the findings into a balanced editorial plan with {num_posts} {frequency} LinkedIn posts.  

    **Guidelines:**  
    - Each post must clearly specify its content type and its target audience.  
    - Maintain a balance: ~50% primary audience, ~40% secondary, max 10% tertiary.  
    - Titles must be impactful and short.  
    - Descriptions must use concrete examples, data, or references (no generic claims).  

  expected_output: >
    A structured editorial plan in Markdown format saved in {text_dir}, including:  
    - {num_posts} post titles  
    - Short descriptions (2–3 sentences)  
    - Target audience (primary/secondary/tertiary)  
    - Suggested hashtags  
    - Publishing cadence ({frequency})  

  agent: manager
  output_file: "{text_dir}/editorial_plan_{topic}.md"



technical_content:
  description: >
    If {expert_type} == "generalista", expand the editorial plan into technical drafts.  
    Provide depth and credibility using industry and academic sources.  

    **Requirements:**  
    - Explain the concepts behind each post in 200–300 words.  
    - Provide at least one practical example, analogy, or short case study.  
    - Include relevant trends, frameworks, or tools connected to {topic}.  
    - Mention references, research papers, or company reports when applicable.  

  expected_output: >
    A single Markdown file in {text_dir}, containing {num_posts} technical drafts:  
    - Title  
    - Technical explanation (200–300 words)  
    - Example, analogy, or case study  
    - References or sources  

  agent: expert
  output_file: "{text_dir}/technical_content_{topic}.md"


product_content:
  description: >
    If {expert_type} == "prodotto", analyze the company website (https://hyperiot.cloud/)  
    and extract product-related insights about {topic}.  

    **Requirements:**  
    - Highlight product features, benefits, and real-world use cases.  
    - Link features directly to IT decision-makers' needs (Primary Audience).  
    - Keep explanations business-oriented but technical enough for CIOs/CTOs.  
    - Use scraped website data as main source, enriched with examples.  

  expected_output: >
    A single Markdown file in {text_dir}, containing {num_posts} product-oriented drafts:  
    - Title  
    - Product feature explanation (200–300 words)  
    - Example of use case  
    - References (from website scraping)  

  agent: product_expert
  output_file: "{text_dir}/product_content_{topic}.md"


linkedin_post:
  description: >
    Rewrite the drafts (from either the technical or product expert) into engaging LinkedIn-style posts.  
    The tone must be clear, professional but approachable, and designed to spark engagement.  

    **Style Guidelines:**  
    - 300–350 words per post  
    - Start with a hook (question, bold statement, or relatable scenario)  
    - Use short paragraphs and formatting for readability  
    - Include a call-to-action at the end  
    - Add 5–7 relevant hashtags  
    - Adapt language depending on the target audience (e.g., business-oriented for Primary, simplified for Tertiary)  

  expected_output: >
    A single Markdown file in {text_dir} with {num_posts} LinkedIn-ready posts:  
    - Post title  
    - Final LinkedIn text (300–350 words)  
    - Call-to-action  
    - Hashtags  

  agent: copywriter
  output_file: "{text_dir}/linkedin_posts_{topic}.md"


visuals:
  description: >
    For each LinkedIn post, generate one original image using the DALL·E tool.  
    The image should make the post more visually engaging while staying professional.  

    **Visual Objectives:**  
    - Simplify complex ideas with infographics, diagrams, or conceptual visuals  
    - Represent both innovative and practical aspects of {topic}  
    - Keep a clean, modern, and professional aesthetic  

    After generation, each image must be downloaded from its URL and saved locally.  

  expected_output: >
    {num_posts} images generated with DALL·E and saved as PNG files in {image_dir}.  
    The files will be named automatically ({image_dir}/{topic}_post_1.png, {image_dir}/{topic}_post_2.png, ...)  

    - A Markdown file in {image_dir} containing:  
    - The title of each post  
    - A description of the corresponding image  

  agent: designer
  output_file: "{image_dir}/{topic}_visuals.md"


plan_posts:
  description: >
    Take the finalized LinkedIn posts and organize them into a structured content calendar.  

    **Guidelines:**  
    - Respect the publishing cadence ({frequency})  
    - Spread the posts logically across the timeline (avoid overlaps)  
    - Keep priority for Primary audience content early in the schedule  
    - Ensure at least 30–40% Secondary audience posts are included throughout  

  expected_output: >
    A Markdown table named "LinkedIn Content Calendar - {topic}" with the columns:  
    | Period ({frequency}) | Day | Title | Audience |  

    Requirements:  
    - Exactly {num_posts} rows (no more, no less)  
    - No duplicate titles or days  
    - Saved in {text_dir}/{topic}_calendar.md  

  agent: planner
  output_file: "{text_dir}/{topic}_calendar.md"
