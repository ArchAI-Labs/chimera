editorial_plan:
  description: >
    Conduct web research about {topic} using your search tools.  
    Based on your findings, define a **strategic editorial plan** with {num_posts} {frequency} LinkedIn posts.  

    Each post must include:
    - **Content Type**: (Industry Insight, Career Skill, Thought Leadership, Academic Highlight, Student Perspective).  
    - **Target Audience**:  
      - Primary: CTOs, CIOs, IT Managers, Business Leaders  
      - Secondary: Researchers, Developers, Tech Enthusiasts  
      - Tertiary: Students, Early-Career Professionals, HR Tech Specialists  

    **Guidelines:**  
    - Distribute posts mostly between Primary and Secondary audiences.  
    - Tertiary audiences may appear but max 20%.  
    - Titles must be short and impactful.  
    - Descriptions must be based on real examples or data (no vague statements).  

  expected_output: >
    A Markdown file in {text_dir} with:  
    - {num_posts} post titles  
    - 2–3 sentence description for each post  
    - Content Type  
    - Target Audience  
    - Suggested hashtags  
    - Indication of publishing cadence ({frequency})  

  agent: manager
  output_file: "{text_dir}/editorial_plan_{topic}.md"


technical_content:
  description: >
    Enrich the editorial plan with technical explanations, examples, and insights about {topic}.  
    Use additional web search if needed to validate information.

  expected_output: >
    A detailed draft for each of the {num_posts} posts, saved in a single Markdown file, including:
    - 200–300 words explanation
    - At least one example, analogy, or case study
    - Mention of current trends or innovations
    - References when applicable

  agent: generalist_expert
  output_file: "{text_dir}/technical_content_{topic}.md"

product_content:
  description: >
    Use the internal company knowledge base to search and answer to the question about {topic} using the search_knowledge.
    When you use the tools, always consider that the query is the topic from the user.
    Your goal is to provide a clear and factual explanation based only on official company data and sources.  
    If the information is not in the kneledge base, use the scraper tool and upsert_knowledge tool to retrieve information. 
    You can only scrape from the following sites: {product_site}
    Every time that you scrape something, you have to save it on the knowledge base with the upsert_knowledge
    If the relevant information is missing, explicitly mention that no data was found in online or in the internal database.  
    You must not consider what is written in the editorial plan.
    **guidelines**
    - Use the tools to search from the internal knowledge base and extract information about {topic}.
    - Write a clear, structured summary of about 200–300 words.
    - Keep the response accurate, concise, and professional, using a tone suitable for IT and technical audiences.  

  expected_output: >
    A Markdown file saved in {text_dir} that includes:  
    - The topic or question: {topic}  
    - A concise, well-structured answer based on retrieved data  
    - References to company sources (URLs, metadata)  

  agent: product_expert
  output_file: "{text_dir}/product_content_{topic}.md"



# knowledge_saving:
#   description: >
#     Take the knowledge scraped from the websites and store it to the knowledge base
#   expected_output: >
#     An acknowledgment 
#   agent: knowledge_manager

# knowledge_searching:
#   description: >
#     Given a topic, look it up in the knowledge base
#   expected_output: >
#     A report on the relevant information found in the knwoledge base 
#   agent: knowledge_manager


linkedin_post:
  description: >
    Rewrite the drafts (from either the technical or product expert) into engaging LinkedIn-style posts.  
    The tone must be clear, professional but approachable, and designed to spark engagement.  

    **Style Guidelines:**  
    - 300–350 words per post  
    - Start with a hook (question, bold statement, or relatable scenario)  
    - Use short paragraphs and formatting for readability  
    - Include a call-to-action at the end  
    - Add 5–7 relevant hashtags  
    - Adapt language depending on the target audience (e.g., business-oriented for Primary, simplified for Tertiary)  

  expected_output: >
    A single Markdown file in {text_dir} with {num_posts} LinkedIn-ready posts:  
    - Post title  
    - Final LinkedIn text (300–350 words)  
    - Call-to-action  
    - Hashtags  

  agent: copywriter
  output_file: "{text_dir}/linkedin_posts_{topic}.md"


visuals:
  description: >
    For each LinkedIn post, generate one original image using the DALL·E tool.  
    The image should make the post more visually engaging while staying professional.  

    **Visual Objectives:**  
    - Simplify complex ideas with infographics, diagrams, or conceptual visuals  
    - Represent both innovative and practical aspects of {topic}  
    - Keep a clean, modern, and professional aesthetic  

    After generation, each image must be downloaded from its URL and saved locally.  

  expected_output: >
    {num_posts} images generated with DALL·E and saved as PNG files in {image_dir}.  
    The files will be named automatically ({image_dir}/{topic}_post_1.png, {image_dir}/{topic}_post_2.png, ...)  

    - A Markdown file in {image_dir} containing:  
    - The title of each post  
    - A description of the corresponding image  

  agent: designer
  output_file: "{image_dir}/{topic}_visuals.md"


plan_posts:
  description: >
    Take the finalized LinkedIn posts and organize them into a structured content calendar.  

    **Guidelines:**  
    - Respect the publishing cadence ({frequency})  
    - Spread the posts logically across the timeline (avoid overlaps)  
    - Keep priority for Primary audience content early in the schedule  
    - Ensure at least 30–40% Secondary audience posts are included throughout  

  expected_output: >
    A Markdown table named "LinkedIn Content Calendar - {topic}" starting from today's day, with the columns:  
    | Period ({frequency}) | Day | Title | Audience |  

    Requirements:  
    - Exactly {num_posts} rows (no more, no less)  
    - No duplicate titles or days.
    - Saved in {text_dir}/{topic}_calendar.md  

  agent: planner
  output_file: "{text_dir}/{topic}_calendar.md"

